<?php

/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
abstract class BaseAclPart extends Doctrine_Record
{
	public function setTableDefinition()
	{
		$this->setTableName('security_acl_part');
		
		$this->hasColumn('id', 'integer', 4, array(
			'unsigned'		=>	true,
			'primary'		=>	true,
			'notnull'		=>	true,
			'autoincrement'	=>	true));
		
		$this->hasColumn('name', 'string', 32, array(
			'fixed'			=>	false,
			'primary'		=>	false,
			'notnull'		=>	true,
			'autoincrement'	=>	false));
		
		$this->index('UNIQUE', array(
            'fields'  =>  array('name'),
            'type'    =>  'unique'));
	}

	public function setUp()
	{
		parent::setUp();
		
		$this->hasMany('Acl as Modules', array(
            'local'     =>  'id',
            'foreign'   =>  'module_id'));
		
		$this->hasMany('Acl as Resources', array(
			'local'		=>	'id',
			'foreign'	=>	'resource_id'));
		
		$this->hasMany('Acl as Privileges', array(
            'local'     =>  'id',
            'foreign'   =>  'privilege_id'));
	}
}