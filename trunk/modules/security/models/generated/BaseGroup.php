<?php

/**
 * This class has been auto-generated by the Doctrine ORM Framework
 */
abstract class BaseGroup extends Doctrine_Record
{
	public function setTableDefinition()
	{
		$this->setTableName('security_group');
		
		$this->hasColumn('id', 'integer', 4, array(
			'unsigned'		=>	true,
			'primary'		=>	true,
			'notnull'		=>	true,
			'autoincrement'	=>	true));
			
		$this->hasColumn('name', 'string', 32, array(
			'fixed'			=>	false,
			'primary'		=>	false,
			'notnull'		=>	true,
			'autoincrement'	=>	false));
		
		$this->hasColumn('description', 'string', 255, array(
			'fixed'			=>	false,
			'primary'		=>	false,
			'notnull'		=>	false,
			'autoincrement'	=>	false));
		
		$this->index('UNIQUE', array(
            'fields'        =>  array('name'),
            'type'          =>  'unique'));
	}

	public function setUp()
	{
		parent::setUp();
		
		$this->hasMany('Acl as Acl', array(
			'local'		=>	'group_id',
			'foreign'	=>	'acl_id',
		    'refClass'  =>  'GroupAcl'));
		
		//if ($singular = Security_System::getInstance()->getParam('accountTableClass')) {
        //
		//    $plural = $singular . 's';
		//    
		//    if ($singular == $plural) {
		//         $plural .= "s";
		//    }
		//    
		//    $this->hasMany($singular .' as '. $plural, array(
		//	    'local'		=>	'group_id',
		//	    'foreign'	=>	Doctrine::getTable($singular)->getIdentifier(),
		//        'refClass'  =>  'Group'.$singular));
		//}
	}

}